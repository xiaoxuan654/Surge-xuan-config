[General]
# > æµ‹è¯•è¶…æ—¶ï¼ˆç§’ï¼‰
test-timeout = 10
# UDP ä¼˜å…ˆçº§
udp-priority = true
# > å›½å†… æµ‹è¯• URL
internet-test-url = http://www.bing.com
# > ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://www.gstatic.com/generate_204
# > è‡ªå®šä¹‰ GeoIP æ•°æ®åº“
geoip-maxmind-url = https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
# > IPv6 æ”¯æŒï¼ˆé»˜è®¤å…³é—­ï¼‰
ipv6 = true
# > DNS æœåŠ¡å™¨
dns-server = 223.5.5.5, 114.114.114.114, 119.29.29.29, system
encrypted-dns-server = https://doh.pub/dns-query, https://dns.alidns.com/dns-query
# DoH æœåŠ¡å™¨
show-error-page-for-reject = true
# > å½“é‡åˆ° REJECT ç­–ç•¥æ—¶è¿”å›é”™è¯¯é¡µ
skip-proxy = 127.0.0.1, 10.0.0.0/8,172.16.0.0/12,100.64.0.0/10, 17.0.0.0/8, *.local, *.crashlytics.com, seed-sequoia.siri.apple.com, localhost, sequoia.apple.com, www.abchina.com.cn
# è·³è¿‡ä»£ç†(å·²æ³¨é‡Š)Surge 5.8.0é»˜è®¤VIF Only
allow-wifi-access = true
# > å…è®¸ Wi-Fi è®¿é—® (ä»… iOSï¼Œè‹¥å…è®¸è¿œç¨‹è®¿é—®å°†ã€Œfalseã€æ”¹ä¸ºã€Œtrueã€)
wifi-access-http-port = 6528
# HTTP æœåŠ¡ç«¯å£
wifi-access-socks5-port = 6582
# SOCKS5 æœåŠ¡ç«¯å£
allow-hotspot-access = true
# å…è®¸ä¸ªäººçƒ­ç‚¹è®¿é—®
wifi-assist = true
# > å¢å¼ºç‰ˆ Wi-Fi åŠ©ç†
http-api = 
# HTTP-APIæ§åˆ¶
http-api-tls = true
http-api-web-dashboard = true
use-default-policy-if-wifi-not-primary = false
# > è¿œç¨‹æ§åˆ¶å™¨
all-hybrid = false
exclude-simple-hostnames = true
# All Hybrid ç½‘ç»œå¹¶å‘
read-etc-hosts = true
# > æ’é™¤ç®€å•ä¸»æœºå
loglevel = notify
# > ä» /etc/hosts è¯»å– DNS è®°å½•
always-real-ip = *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com
# > æ—¥å¿—çº§åˆ«
disable-geoip-db-auto-update = false
# > Always Real IP Hosts
udp-policy-not-supported-behaviour = reject
# > Surge VIF
# tun-excluded-routes = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12
# tun-included-routes = 192.168.1.12/32
# > ç¦ç”¨ GEOIP è‡ªåŠ¨æ›´æ–°
external-controller-access = xiaoxuan@0.0.0.0:6170
# å¦‚æœæ²¡æœ‰ä»£ç†æœåŠ¡å™¨æ”¯æŒ UDP è½¬å‘ï¼Œå¯ä¿®æ”¹ä¸ºã€Œ direct ã€æˆ–æ³¨é‡Šä¸‹æ¡ï¼Œä½†éœ€æ³¨æ„åŒä¸€ç›®æ ‡ä¸»æœºå TCP è¯·æ±‚ä¸ UDP è¯·æ±‚çš„æºåœ°å€ä¸åŒæ‰€é€ æˆçš„éšç§åŠå®‰å…¨é£é™©ã€‚
ipv6-vif = auto
hide-vpn-icon = false

http-listen = 0.0.0.0
socks5-listen = 0.0.0.0
use-local-host-item-for-proxy = true
proxy-restricted-to-lan = false

[Proxy]


[Proxy Group]

Proxy = select, é¦™æ¸¯, æ–°åŠ å¡, æ—¥æœ¬, ç¾å›½, è‹±å›½, home, no-alert=0, hidden=0, include-all-proxies=0, update-interval=0, icon-url=https://raw.githubusercontent.com/lige47/QuanX-icon-rule/main/icon/Surge(2).png
home = smart, DEVICE:MAC, home1, home2, no-alert=0, hidden=1, include-all-proxies=0


æŠ–éŸ³ = select, DIRECT, no-alert=0, hidden=0, include-all-proxies=0, update-interval=0, include-other-group=Proxy, icon-url=https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/icon/qure/color/TikTok_2.png

Tiktok = select, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Proxy, icon-url=https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/icon/qure/color/TikTok_Alt.png

Telegram = select, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Proxy, icon-url=https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/icon/color/telegram.png

ChatGPT = select, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Proxy, icon-url=https://raw.githubusercontent.com/lige47/QuanX-icon-rule/main/icon/ChatGPT(1).png

Apple = select, DIRECT, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Proxy, icon-url=https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/icon/qure/Apple.png

ğŸ®å¤–å›½æ¸¸æˆ = select, DIRECT, include-other-group=Proxy, no-alert=0, hidden=1, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/icon/qure/JIYOU.png


å¿«æ‰‹ = select, DIRECT, no-alert=0, hidden=0, include-all-proxies=0, icon-url=https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/icon/task/kuaishou.png, include-other-group=Proxy

å›ºå®šIP = select, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=åŸºæœ¬èŠ‚ç‚¹, icon-url=https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/icon/mini/01.png

Speedtest = select, DIRECT, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Proxy, icon-url=https://raw.githubusercontent.com/lige47/QuanX-icon-rule/main/icon/speedtest.png


é¦™æ¸¯ = smart, no-alert=0, hidden=1, include-all-proxies=1, update-interval=0, policy-regex-filter=(?=.*(ğŸ‡­ğŸ‡°|æ¸¯|HK|(?i)Hong))^((?!(3å€)).)*$, include-other-group=åŸºæœ¬èŠ‚ç‚¹, icon-url=https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/icon/qure/color/Hong_Kong.png


æ—¥æœ¬ = smart, no-alert=0, hidden=1, include-all-proxies=0, update-interval=0, policy-regex-filter=(ğŸ‡¯ğŸ‡µ)|(æ—¥)|(Japan)|(JP), include-other-group=åŸºæœ¬èŠ‚ç‚¹, icon-url=https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/icon/qure/color/Japan.png
æ–°åŠ å¡ = smart, no-alert=0, hidden=1, include-all-proxies=1, update-interval=0, policy-regex-filter=(ğŸ‡¸ğŸ‡¬)|(å¡)|(Singapore)|(SG), include-other-group=åŸºæœ¬èŠ‚ç‚¹, icon-url=https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/icon/qure/color/Singapore.png
ç¾å›½ = smart, no-alert=0, hidden=1, include-all-proxies=0, update-interval=0, policy-regex-filter=(ğŸ‡ºğŸ‡¸)|(ç¾)|(States)|(US), include-other-group=åŸºæœ¬èŠ‚ç‚¹, icon-url=https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/icon/qure/color/United_States.png
è‹±å›½ = smart, policy-regex-filter=(?=.*(ğŸ‡¬ğŸ‡§|è‹±|UK|(?i)Kingdom))^((?!(3å€)).)*$, no-alert=0, hidden=1, include-all-proxies=0, include-other-group=åŸºæœ¬èŠ‚ç‚¹, icon-url=https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/icon/qure/color/United_Kingdom.png
åŸºæœ¬èŠ‚ç‚¹ = smart, policy-path=https://sub.store/download/collection/sub, update-interval=0, no-alert=0, hidden=1, include-all-proxies=1
FINAL = select, DIRECT, REJECT, Proxy, home, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=Proxy, icon-url=https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/icon/qure/color/Final.png

[Rule]
IP-CIDR,10.243.0.0/16,home,no-resolve
IP-CIDR,192.168.1.1/24,home,no-resolve
DOMAIN,xuan.god,home
DOMAIN-SUFFIX,groq.com,ç¾å›½,extended-matching
DOMAIN,ip-api.com,Proxy
DOMAIN-SUFFIX,getsession.org,Proxy,extended-matching
DOMAIN-SUFFIX,unmineable.com,Proxy,extended-matching
DOMAIN,api.unminable.com,Proxy
DOMAIN-SUFFIX,zh.z-lib.gs,Proxy,extended-matching
DOMAIN-SUFFIX,macked.app,Proxy,extended-matching
DOMAIN-SUFFIX,ghcr.io,Proxy,extended-matching
DOMAIN-SUFFIX,brew.sh,Proxy,extended-matching
DOMAIN-SUFFIX,havoc.app,Proxy
DOMAIN-SUFFIX,byg.iosios.net,Proxy
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Surge/SteamCN/SteamCN.list,ğŸ®å¤–å›½æ¸¸æˆ,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Surge/Steam/Steam.list,ğŸ®å¤–å›½æ¸¸æˆ,no-resolve
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Surge/KuaiShou/KuaiShou.list,å¿«æ‰‹
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Loon/ByteDance/ByteDance.list,æŠ–éŸ³,extended-matching
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Surge/DouYin/DouYin.list,æŠ–éŸ³,extended-matching
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/refs/heads/master/rule/Surge/Game/Roblox/Roblox.list,ğŸ®å¤–å›½æ¸¸æˆ,extended-matching
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Surge/Speedtest/Speedtest.list,Speedtest
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Surge/TikTok/TikTok.list,Tiktok,extended-matching,no-resolve
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Surge/Telegram/Telegram.list,Telegram,no-resolve
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Surge/OpenAI/OpenAI.list,ChatGPT,no-resolve
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Surge/Apple/Apple_All_No_Resolve.list,Apple
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Surge/SteamCN/SteamCN.list,ğŸ®å¤–å›½æ¸¸æˆ,no-resolve
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Surge/Global/Global_All_No_Resolve.list,Proxy,no-resolve
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Surge/Proxy/Proxy_All_No_Resolve.list,Proxy,no-resolve
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Surge/GlobalMedia/GlobalMedia_All_No_Resolve.list,Proxy,no-resolve
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Surge/ChinaMax/ChinaMax_All.list,DIRECT
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Surge/AdGuardSDNSFilter/Direct/Direct.list,DIRECT
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Surge/ChinaASN/ChinaASN.list,DIRECT
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Surge/Direct/Direct.list,DIRECT
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Surge/ChinaIPs/ChinaIPs.list,DIRECT
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Surge/China/China_All.list,DIRECT
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Surge/AdGuardSDNSFilter/AdGuardSDNSFilter_All.list,REJECT
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Surge/Hijacking/Hijacking.list,REJECT
RULE-SET,https://github.com/blackmatrix7/ios_rule_script/raw/refs/heads/master/rule/Surge/Privacy/Privacy_All.list,REJECT
AND,((PROTOCOL,UDP), (DEST-PORT,443)),REJECT-NO-DROP
IP-CIDR,0.0.0.0/32,REJECT,no-resolve
GEOIP,CN,DIRECT
FINAL,FINAL

[Host]
# å¾®ä¿¡
# *.weixin.com = 119.29.29.29
mtalk.google.com = 108.177.125.188
*testflight.apple.com = server:8.8.4.4

[URL Rewrite]
^https?:\/\/(www\.)?g\.cn https://www.google.com 302
^https?:\/\/(www\.)?google\.cn https://www.google.com 302

[MITM]

[Script]

